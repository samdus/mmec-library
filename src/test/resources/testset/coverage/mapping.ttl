@prefix isc: <http://resource.geosciml.org/classifier/ics/ischart/> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rr:  <http://www.w3.org/ns/r2rml#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix mmec: <http://www.griis.ca/projects/mmec/> .
@prefix obo: <http://purl.obolibrary.org/obo/> .

# ****************************************************************************************
# Classes mappings
# ****************************************************************************************
# 'human body mass measurement datum'
<Mapping:humanBodyMassMeasurementDatum>
    a               rr:TriplesMap ;
    rr:logicalTable [ a           rr:R2RMLView ;
                      rr:sqlQuery "SELECT \"ID_PATIENT_EXT\" FROM \"EXP\".\"PATIENT\" where \"POIDS\" IS NOT NULL" ] ;
    rr:subjectMap   [ a           rr:SubjectMap, rr:TermMap ;
                      rr:class    obo:PHYSIO_0000065 ;
                      rr:template "http://purl.obolibrary.org/obo/humanbodyweight-appli/jedis/humanBodyMassMeasurementDatum/{\"ID_PATIENT_EXT\"}" ;
                      rr:termType rr:IRI ] .

# health care record
<Mapping:healthCareRecord>
    a rr:TriplesMap ;
    rr:logicalTable [ a           rr:R2RMLView ;
                       rr:sqlQuery "SELECT \"ID_PATIENT_UUID\" FROM \"EXP\".\"DOSSIER\"" ] ;
    rr:subjectMap   [ a           rr:SubjectMap, rr:TermMap ;
                      rr:class    obo:HBW_0000004 ;
                      rr:template "http://purl.obolibrary.org/obo/humanbodyweight-appli/jedis/healthCareRecord/{\"ID_PATIENT_UUID\"}" ;
                      rr:termType rr:IRI ] .

# ONTORELA_C002aX (health care record and (is about exactly 1 patient))
<Mapping:ONTORELA_C002aX>
    a rr:TriplesMap ;
    rr:logicalTable [ a           rr:R2RMLView ;
                      rr:sqlQuery "SELECT \"ID_PATIENT_UUID\" FROM \"EXP\".\"DOSSIER\" WHERE \"ID_PATIENT_EXT\" IS NOT NULL" ] ;
    rr:subjectMap   [ a           rr:SubjectMap, rr:TermMap ;
                      rr:class    obo:HBW_0000004 ;
                      rr:template "http://purl.obolibrary.org/obo/humanbodyweight-appli/jedis/healthCareRecord/{\"ID_PATIENT_UUID\"}" ;
                      rr:termType rr:IRI ] .