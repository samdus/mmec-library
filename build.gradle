buildscript {
    def nexusUsername = project.getProperties().getOrDefault("nexusUsername", "novalue")
    def nexusPassword = project.getProperties().getOrDefault("nexusPassword", "novalue")
    def nexusAddress = project.getProperties().getOrDefault("nexusAddress", "https://novalue")
    repositories {
        mavenLocal()
        maven {
            credentials {
                username nexusUsername
                password nexusPassword
            }
            url nexusAddress
        }
        maven {url "https://plugins.gradle.org/m2/"}
        mavenCentral()
    }
    dependencies {
        classpath "ca.griis:gradle-plugin-griis:0.11.5-SNAPSHOT"
    }
}


plugins {
    id 'application'
}

ext {
    hasJooqing = false
    isSpringBoot = false
    minCoverageUnit = 0
    minCoverageUnitItgr = 0
    minMutationUnit = 0
}

group = "ca.griis.mmec"
version = "0.1.0"

apply plugin: ca.griis.gradle.plugin.GriisPlugin
apply plugin: "antlr"

java {
    toolchain {
        languageVersion = JavaLanguageVersion.of(8)
        vendor = JvmVendorSpec.ADOPTIUM
        implementation = JvmImplementation.VENDOR_SPECIFIC // Hotspot
    }
}

dependencies {
    annotationProcessor "org.projectlombok:lombok"

    antlr "org.antlr:antlr4:4.7.2"

    compileOnly "com.github.spotbugs:spotbugs-annotations"

    implementation "com.google.guava:guava"
    implementation "org.antlr:antlr4:4.7.2"
    implementation "org.projectlombok:lombok"

    testImplementation "org.json:json:20220320"
    testImplementation "org.junit.jupiter:junit-jupiter-engine"
    testImplementation "org.junit.jupiter:junit-jupiter-params"
}

apply from: "script/antlr.gradle"
apply from: "script/application.gradle"

if (hasProperty('buildScan')) {
    buildScan {
        termsOfServiceUrl = 'https://gradle.com/terms-of-service'
        termsOfServiceAgree = 'yes'
    }
}
